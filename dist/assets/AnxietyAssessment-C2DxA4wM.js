import{n as q,k as S,H as V,p as x,q as B,o as y,w as U,a as v,b as e,u as $,m as C,c as h,F as w,r as k,t as c,f as i,y as n,I as d,W as f}from"./app-LayFgEfl.js";import{_ as L}from"./AuthenticatedLayout-DPyQKLkO.js";import{_ as N}from"./Header-CaqgEGJT.js";import{S as o}from"./sweetalert2.esm.all-B0Dix5B2.js";import"./NavLink-DE2x0Iuc.js";const O={class:"min-h-screen bg-blue-100 dark:bg-gray-900 flex items-center justify-center"},T={class:"w-full max-w-4xl bg-blue-200 dark:bg-gray-800 shadow-lg rounded-lg border border-blue-300 dark:border-gray-700"},D={class:"p-8 text-blue-900 dark:text-blue-100"},E={class:"space-y-6"},F=["data-question"],I={class:"block font-medium text-lg text-gray-800 dark:text-gray-200"},M={class:"flex gap-6 mt-2"},j={class:"flex items-center gap-2 text-gray-700 dark:text-gray-300"},P=["onUpdate:modelValue"],W={class:"flex items-center gap-2 text-gray-700 dark:text-gray-300"},K=["onUpdate:modelValue"],R={class:"flex items-center gap-2 text-gray-700 dark:text-gray-300"},G=["onUpdate:modelValue"],Y={class:"flex items-center gap-2 text-gray-700 dark:text-gray-300"},z=["onUpdate:modelValue"],H={class:"mt-8 p-4 bg-blue-100 dark:bg-blue-700 rounded-lg"},J={class:"flex gap-6 mt-2"},Q={class:"flex items-center gap-2 text-gray-700 dark:text-gray-300"},X={class:"flex items-center gap-2 text-gray-700 dark:text-gray-300"},Z={class:"flex items-center gap-2 text-gray-700 dark:text-gray-300"},ee={class:"flex items-center gap-2 text-gray-700 dark:text-gray-300"},te={class:"mt-8 p-4 bg-blue-100 dark:bg-gray-700 rounded-lg"},se={class:"w-full mt-2 border border-gray-300 dark:border-gray-600"},ae={class:"p-2 border"},le={class:"p-2 border"},re={class:"mt-6"},ce={__name:"AnxietyAssessment",setup(oe){const p=q(),u=S(!1);p.props.title="Anxiety Assessment";const s=V({q1:null,q2:null,q3:null,q4:null,q5:null,q6:null,q7:null,impact:""}),b=[{min:0,max:4,label:"Minimal Anxiety"},{min:5,max:9,label:"Mild Anxiety"},{min:10,max:14,label:"Moderate Anxiety"},{min:15,max:21,label:"Severe Anxiety"}],g=x(()=>Object.values(s).slice(0,7).reduce((m,t)=>m+(parseInt(t)||0),0)),_=x(()=>{var m;return((m=b.find(t=>g.value>=t.min&&g.value<=t.max))==null?void 0:m.label)||"Unknown"}),A=async()=>{var a,l;if(u.value)return;if(Object.keys(s).find(r=>s[r]===null||s[r]==="")){o.fire({icon:"error",title:"Incomplete Answers",text:"Please answer all questions before submitting.",confirmButtonColor:"#3085d6"});return}if((await o.fire({title:"Submit Assessment?",text:"Do you want to save the assessment in the database?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, save it!",cancelButtonText:"No, just view results",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"})).isConfirmed){o.fire({title:"Submitting...",text:"Please wait while we save your assessment.",allowOutsideClick:!1,didOpen:()=>{o.showLoading()}}),u.value=!0;try{f.post("/assessment/anxiety/store",{user_id:(l=(a=p.props.auth)==null?void 0:a.user)==null?void 0:l.id,responses:Object.values(s).slice(0,7),impact:s.impact,total_score:g.value,severity:_.value},{replace:!0,onSuccess:()=>{u.value=!1,o.fire({title:"Saved!",text:"Your assessment has been recorded.",icon:"success",showConfirmButton:!1,timer:2e3}),setTimeout(()=>{f.get("/assessment/anxiety/results")},2e3)},onError:()=>{u.value=!1,o.fire("Error","Failed to submit assessment. Please try again.","error")}})}catch(r){console.error("Error submitting assessment:",r),o.fire("Error","Failed to submit assessment. Please try again.","error"),u.value=!1}}else o.fire({title:"Redirecting...",text:"Please wait while we load your results.",allowOutsideClick:!1,didOpen:()=>o.showLoading()}),setTimeout(()=>{o.close(),f.get("/assessment/anxiety/results")},500)};return(m,t)=>(y(),B(L,null,{default:U(()=>[v($(C),{title:"Anxiety Assessment"}),e("div",O,[e("div",T,[v(N,{title:"GAD-7 Anxiety Assessment",subtitle:"Over the last two weeks, how often have you been bothered by the following problems?"}),e("div",D,[e("div",E,[(y(),h(w,null,k(["Feeling nervous, anxious, or on edge","Not being able to stop or control worrying","Worrying too much about different things","Trouble relaxing","Being so restless that it is hard to sit still","Becoming easily annoyed or irritable","Feeling afraid, as if something awful might happen"],(a,l)=>e("div",{key:l,"data-question":`q${l+1}`,class:"p-4 bg-blue-100 dark:bg-gray-700 rounded-lg"},[e("label",I,c(l+1)+". "+c(a),1),e("div",M,[e("label",j,[i(e("input",{type:"radio",value:0,"onUpdate:modelValue":r=>s[`q${l+1}`]=r,class:"form-radio"},null,8,P),[[d,s[`q${l+1}`]]]),t[4]||(t[4]=n(" Not at all "))]),e("label",W,[i(e("input",{type:"radio",value:1,"onUpdate:modelValue":r=>s[`q${l+1}`]=r,class:"form-radio"},null,8,K),[[d,s[`q${l+1}`]]]),t[5]||(t[5]=n(" Several days "))]),e("label",R,[i(e("input",{type:"radio",value:2,"onUpdate:modelValue":r=>s[`q${l+1}`]=r,class:"form-radio"},null,8,G),[[d,s[`q${l+1}`]]]),t[6]||(t[6]=n(" More than half the days "))]),e("label",Y,[i(e("input",{type:"radio",value:3,"onUpdate:modelValue":r=>s[`q${l+1}`]=r,class:"form-radio"},null,8,z),[[d,s[`q${l+1}`]]]),t[7]||(t[7]=n(" Nearly every day "))])])],8,F)),64))]),e("div",H,[t[12]||(t[12]=e("label",{class:"block font-medium text-lg text-gray-800 dark:text-gray-200"}," If you checked any problems, how difficult have they made it for you to do your work, take care of things at home, or get along with other people? ",-1)),e("div",J,[e("label",Q,[i(e("input",{type:"radio",value:"Not difficult at all","onUpdate:modelValue":t[0]||(t[0]=a=>s.impact=a),class:"form-radio"},null,512),[[d,s.impact]]),t[8]||(t[8]=n(" Not difficult at all "))]),e("label",X,[i(e("input",{type:"radio",value:"Somewhat difficult","onUpdate:modelValue":t[1]||(t[1]=a=>s.impact=a),class:"form-radio"},null,512),[[d,s.impact]]),t[9]||(t[9]=n(" Somewhat difficult "))]),e("label",Z,[i(e("input",{type:"radio",value:"Very difficult","onUpdate:modelValue":t[2]||(t[2]=a=>s.impact=a),class:"form-radio"},null,512),[[d,s.impact]]),t[10]||(t[10]=n(" Very difficult "))]),e("label",ee,[i(e("input",{type:"radio",value:"Extremely difficult","onUpdate:modelValue":t[3]||(t[3]=a=>s.impact=a),class:"form-radio"},null,512),[[d,s.impact]]),t[11]||(t[11]=n(" Extremely difficult "))])])]),e("div",te,[t[14]||(t[14]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"Anxiety Severity Levels",-1)),t[15]||(t[15]=e("p",{class:"text-gray-800 dark:text-gray-300"},"Your total score determines the severity of your anxiety symptoms based on the GAD-7 scale.",-1)),e("table",se,[t[13]||(t[13]=e("thead",null,[e("tr",{class:"bg-blue-300 dark:bg-gray-600"},[e("th",{class:"p-2 border"},"Total Score"),e("th",{class:"p-2 border"},"Severity Level")])],-1)),e("tbody",null,[(y(),h(w,null,k(b,a=>e("tr",{key:a.label},[e("td",ae,c(a.min)+"–"+c(a.max),1),e("td",le,c(a.label),1)])),64))])])]),e("div",re,[e("button",{onClick:A,class:"w-full bg-blue-600 text-white py-3 rounded-lg text-lg font-semibold hover:bg-blue-700 transition"},c(u.value?"Submitting...":"Submit Assessment"),1)]),t[16]||(t[16]=e("div",{class:"mt-6 p-4 bg-gray-200 dark:bg-gray-700 rounded-lg"},[e("h3",{class:"text-lg font-semibold"},"Reference"),e("p",{class:"text-sm text-gray-800 dark:text-gray-300"},"Spitzer, R. L., Kroenke, K., Williams, J. B. W., & Löwe, B. (2006). A brief measure for assessing generalized anxiety disorder: The GAD-7. Archives of Internal Medicine, 166(10), 1092–1097. DOI: 10.1001/archinte.166.10.1092")],-1))])])])]),_:1}))}};export{ce as default};
