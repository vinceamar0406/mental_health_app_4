import{n as v,k as d,J as y,c as s,o,b as i,C as l,F as x,r as h,x as m,t as f}from"./app-LayFgEfl.js";import{_ as p}from"./_plugin-vue_export-helper-DlAUqK2U.js";const b={class:"space-y-6"},k={key:0,class:"text-gray-500 text-xl"},w={key:1,class:"text-gray-500 text-xl"},N={key:2,class:"space-y-4"},C={class:"text-sm text-gray-400 mt-1"},E=["onClick","disabled"],L={key:3,class:"text-red-500 text-lg"},A={__name:"Notifications",setup(B){const{notifications:u}=v().props,r=d(Array.isArray(u)?u:[]),n=d(!1),c=d(null),g=async()=>{n.value=!0,c.value=null;try{const t=await axios.get("/admin/notifications");r.value=t.data.notifications||[]}catch(t){c.value=t,console.error("Error fetching notifications:",t)}finally{n.value=!1}},_=async t=>{try{await axios.post(`/admin/notifications/${t}/read`);const a=r.value.find(e=>e.id===t);a&&(a.read_at=!0)}catch(a){console.error("Error marking notification as read:",a)}};return y(()=>{r.value.length===0&&g()}),(t,a)=>(o(),s("div",b,[a[0]||(a[0]=i("h1",{class:"text-3xl font-bold"},"Notifications",-1)),n.value?(o(),s("div",k,"Loading notifications...")):l("",!0),!n.value&&r.value.length===0?(o(),s("div",w," You have no notifications. ")):l("",!0),!n.value&&r.value.length>0?(o(),s("ul",N,[(o(!0),s(x,null,h(r.value,e=>(o(),s("li",{key:e.id,class:"flex justify-between items-center p-4 bg-white border border-gray-300 rounded-lg shadow-md hover:bg-gray-50"},[i("div",null,[i("span",{class:m([{"text-gray-500":e.read_at},"text-lg"])},f(e.data.message),3),i("div",C,f(new Date(e.created_at).toLocaleString()),1)]),i("button",{onClick:D=>_(e.id),disabled:e.read_at,class:"px-4 py-2 bg-blue-500 text-white rounded-lg shadow-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200"}," Mark as read ",8,E)]))),128))])):l("",!0),c.value?(o(),s("div",L," Error loading notifications. Please try again later. ")):l("",!0)]))}},S=p(A,[["__scopeId","data-v-56cc53c2"]]);export{S as default};
