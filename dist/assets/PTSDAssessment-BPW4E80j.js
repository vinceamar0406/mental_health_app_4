import{j as k,d as T,k as P,e as y,l as _,o as b,w as D,a as x,b as e,u as V,m as C,c as B,F as U,r as q,t as p,g as i,f as n,p as d,W as g}from"./app-Dk-EDSe_.js";import{_ as $}from"./AuthenticatedLayout-B1aTbl94.js";import{_ as A}from"./Header-BcY0k3Sj.js";import{S as o}from"./sweetalert2.esm.all-B0Dix5B2.js";import"ziggy";import"./NavLink-Cm9f6Oqy.js";const L={class:"min-h-screen bg-blue-100 dark:bg-gray-900 flex items-center justify-center"},M={class:"w-full max-w-4xl bg-blue-200 dark:bg-gray-800 shadow-lg rounded-lg border border-blue-300 dark:border-gray-700"},E={class:"p-8 text-gray-900 dark:text-gray-100"},j={class:"space-y-6"},F={class:"block font-medium text-lg text-gray-800 dark:text-gray-200"},N={class:"flex gap-6 mt-2"},O={class:"flex items-center gap-2 text-gray-700 dark:text-gray-300"},H=["onUpdate:modelValue"],R={class:"flex items-center gap-2 text-gray-700 dark:text-gray-300"},W=["onUpdate:modelValue"],I={class:"flex items-center gap-2 text-gray-700 dark:text-gray-300"},K=["onUpdate:modelValue"],Y={class:"flex items-center gap-2 text-gray-700 dark:text-gray-300"},z=["onUpdate:modelValue"],Q={class:"flex items-center gap-2 text-gray-700 dark:text-gray-300"},G=["onUpdate:modelValue"],J={class:"mt-8 p-4 bg-gray-100 dark:bg-gray-700 rounded-lg"},X={class:"flex gap-6 mt-2"},Z={class:"flex items-center gap-2 text-gray-700 dark:text-gray-300"},ee={class:"flex items-center gap-2 text-gray-700 dark:text-gray-300"},te={class:"flex items-center gap-2 text-gray-700 dark:text-gray-300"},se={class:"flex items-center gap-2 text-gray-700 dark:text-gray-300"},re={class:"mt-6"},me={__name:"PTSDAssessment",setup(ae){const h=k(),m=T(!1),f=["Repeated, disturbing, and unwanted memories of the stressful experience?","Repeated, disturbing dreams of the stressful experience?","Suddenly feeling or acting as if the stressful experience were actually happening again?","Feeling very upset when something reminded you of the stressful experience?","Having strong physical reactions when something reminded you of the stressful experience?","Avoiding memories, thoughts, or feelings related to the stressful experience?","Avoiding external reminders of the stressful experience?","Trouble remembering important parts of the stressful experience?","Having strong negative beliefs about yourself, other people, or the world?","Blaming yourself or someone else for the stressful experience or what happened after it?","Having strong negative feelings such as fear, horror, anger, guilt, or shame?","Loss of interest in activities that you used to enjoy?","Feeling distant or cut off from other people?","Trouble experiencing positive feelings?","Irritable behavior, angry outbursts, or acting aggressively?","Taking too many risks or doing things that could cause you harm?","Being 'superalert' or watchful or on guard?","Feeling jumpy or easily startled?","Having difficulty concentrating?","Trouble falling or staying asleep?"],s=P({impact:""});f.forEach((u,t)=>s[`q${t+1}`]=null);const v=[{min:0,max:10,label:"Minimal Symptoms"},{min:11,max:20,label:"Mild PTSD Symptoms"},{min:21,max:30,label:"Moderate PTSD Symptoms"},{min:31,max:39,label:"Probable PTSD (Clinical Threshold)"},{min:40,max:80,label:"Severe PTSD"}],c=y(()=>Object.values(s).slice(0,20).reduce((u,t)=>u+(parseInt(t)||0),0)),w=y(()=>{var u;return((u=v.find(t=>c.value>=t.min&&c.value<=t.max))==null?void 0:u.label)||"Unknown"}),S=async()=>{var l,r;if(m.value)return;if(Object.keys(s).find(a=>s[a]===null||s[a]==="")){o.fire({icon:"error",title:"Incomplete Answers",text:"Please answer all questions before submitting.",confirmButtonColor:"#3085d6"});return}if((await o.fire({title:"Submit Assessment?",text:"Do you want to save the assessment in the database?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, save it!",cancelButtonText:"No, just view results",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"})).isConfirmed){o.fire({title:"Submitting...",text:"Please wait while we save your assessment.",allowOutsideClick:!1,didOpen:()=>{o.showLoading()}}),m.value=!0;try{g.post("/assessment/ptsd/store",{user_id:(r=(l=h.props.auth)==null?void 0:l.user)==null?void 0:r.id,responses:Object.values(s).slice(0,7),impact:s.impact,total_score:c.value,severity:w.value},{replace:!0,onSuccess:()=>{m.value=!1,o.fire({title:"Saved!",text:"Your assessment has been recorded.",icon:"success",showConfirmButton:!1,timer:2e3}),setTimeout(()=>{g.get("/assessment/ptsd/results")},2e3)},onError:()=>{m.value=!1,o.fire("Error","Failed to submit assessment. Please try again.","error")}})}catch(a){console.error("Error submitting assessment:",a),o.fire("Error","Failed to submit assessment. Please try again.","error"),m.value=!1}}else o.fire({title:"Redirecting...",text:"Please wait while we load your results.",allowOutsideClick:!1,didOpen:()=>o.showLoading()}),setTimeout(()=>{o.close(),g.get("/assessment/ptsd/results")},500)};return(u,t)=>(b(),_($,null,{default:D(()=>[x(V(C),{title:"PTSD Assessment"}),e("div",L,[e("div",M,[x(A,{title:"PCL-5 PTSD Assessment",subtitle:"Think about your worst stressful event and rate how much each symptom bothered you in the past month."}),e("div",E,[e("div",j,[(b(),B(U,null,q(f,(l,r)=>e("div",{key:r,class:"p-4 bg-gray-100 dark:bg-gray-700 rounded-lg"},[e("label",F,p(r+1)+". "+p(l),1),e("div",N,[e("label",O,[i(e("input",{type:"radio",value:0,"onUpdate:modelValue":a=>s[`q${r+1}`]=a,class:"form-radio"},null,8,H),[[d,s[`q${r+1}`]]]),t[4]||(t[4]=n(" Not at all "))]),e("label",R,[i(e("input",{type:"radio",value:1,"onUpdate:modelValue":a=>s[`q${r+1}`]=a,class:"form-radio"},null,8,W),[[d,s[`q${r+1}`]]]),t[5]||(t[5]=n(" A little bit "))]),e("label",I,[i(e("input",{type:"radio",value:2,"onUpdate:modelValue":a=>s[`q${r+1}`]=a,class:"form-radio"},null,8,K),[[d,s[`q${r+1}`]]]),t[6]||(t[6]=n(" Moderately "))]),e("label",Y,[i(e("input",{type:"radio",value:3,"onUpdate:modelValue":a=>s[`q${r+1}`]=a,class:"form-radio"},null,8,z),[[d,s[`q${r+1}`]]]),t[7]||(t[7]=n(" Quite a bit "))]),e("label",Q,[i(e("input",{type:"radio",value:4,"onUpdate:modelValue":a=>s[`q${r+1}`]=a,class:"form-radio"},null,8,G),[[d,s[`q${r+1}`]]]),t[8]||(t[8]=n(" Extremely "))])])])),64))]),e("div",J,[t[13]||(t[13]=e("label",{class:"block font-medium text-lg text-gray-800 dark:text-gray-200"}," How difficult have these problems made it for you to function in daily life? ",-1)),e("div",X,[e("label",Z,[i(e("input",{type:"radio",value:"Not difficult at all","onUpdate:modelValue":t[0]||(t[0]=l=>s.impact=l),class:"form-radio"},null,512),[[d,s.impact]]),t[9]||(t[9]=n(" Not difficult at all "))]),e("label",ee,[i(e("input",{type:"radio",value:"Somewhat difficult","onUpdate:modelValue":t[1]||(t[1]=l=>s.impact=l),class:"form-radio"},null,512),[[d,s.impact]]),t[10]||(t[10]=n(" Somewhat difficult "))]),e("label",te,[i(e("input",{type:"radio",value:"Very difficult","onUpdate:modelValue":t[2]||(t[2]=l=>s.impact=l),class:"form-radio"},null,512),[[d,s.impact]]),t[11]||(t[11]=n(" Very difficult "))]),e("label",se,[i(e("input",{type:"radio",value:"Extremely difficult","onUpdate:modelValue":t[3]||(t[3]=l=>s.impact=l),class:"form-radio"},null,512),[[d,s.impact]]),t[12]||(t[12]=n(" Extremely difficult "))])])]),t[14]||(t[14]=e("div",{class:"mt-8 p-4 bg-blue-100 dark:bg-gray-700 rounded-lg"},[e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"},"PTSD Severity Levels"),e("p",{class:"text-gray-800 dark:text-gray-300"},"Your total score determines the severity of your PTSD symptoms based on the PCL-5 scale. A score of 33 or higher is considered clinically significant for PTSD."),e("table",{class:"w-full mt-2 border border-gray-300 dark:border-gray-600"},[e("thead",null,[e("tr",{class:"bg-blue-300 dark:bg-gray-600"},[e("th",{class:"p-2 border"},"Total Score"),e("th",{class:"p-2 border"},"Severity Level")])]),e("tbody",null,[e("tr",null,[e("td",{class:"p-2 border"},"0–19"),e("td",{class:"p-2 border"},"Minimal or no PTSD symptoms")]),e("tr",null,[e("td",{class:"p-2 border"},"20–39"),e("td",{class:"p-2 border"},"Mild PTSD symptoms")]),e("tr",null,[e("td",{class:"p-2 border"},"40–59"),e("td",{class:"p-2 border"},"Moderate PTSD symptoms")]),e("tr",null,[e("td",{class:"p-2 border"},"60–79"),e("td",{class:"p-2 border"},"Severe PTSD symptoms")]),e("tr",null,[e("td",{class:"p-2 border"},"80"),e("td",{class:"p-2 border"},"Very severe PTSD symptoms")])])])],-1)),e("div",re,[e("button",{onClick:S,class:"w-full bg-blue-600 text-white py-3 rounded-lg text-lg font-semibold hover:bg-blue-700 transition"},p(m.value?"Submitting...":"Submit Assessment"),1)]),t[15]||(t[15]=e("div",{class:"mt-6 p-4 bg-gray-200 dark:bg-gray-700 rounded-lg"},[e("h3",{class:"text-lg font-semibold"},"Reference"),e("p",{class:"text-sm"},"Weathers, F. W., Litz, B. T., Keane, T. M., Palmieri, P. A., Marx, B. P., & Schnurr, P. P. (2013). The PTSD Checklist for DSM-5 (PCL-5). National Center for PTSD.")],-1))])])])]),_:1}))}};export{me as default};
