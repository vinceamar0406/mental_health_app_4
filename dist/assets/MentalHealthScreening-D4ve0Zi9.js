import{M as y,c as l,o as a,a as c,u as o,m as x,w as u,b as e,F as d,r as v,f as _,t as m,v as S}from"./app-LayFgEfl.js";import{_ as B}from"./AuthenticatedLayout-DPyQKLkO.js";import{S as t}from"./sweetalert2.esm.all-B0Dix5B2.js";import"./NavLink-DE2x0Iuc.js";const C={class:"py-12"},k={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},O={class:"overflow-hidden bg-blue-200 shadow-sm sm:rounded-lg"},T={class:"p-6 text-gray-900 dark:text-gray-100"},H={class:"text-sm text-gray-700 font-semibold"},M=["onUpdate:modelValue"],P=["disabled"],F={__name:"MentalHealthScreening",setup(q){const s=y({responses:["","","","",""]}),g=()=>s.responses.every(n=>n.trim()!==""),p=async()=>{if(!g()){t.fire({title:"Incomplete Responses",text:"Please complete all questions before submitting.",icon:"warning",confirmButtonText:"OK"});return}(await t.fire({title:"Submit Screening?",text:"Do you want to save your responses in the database?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, save it!",cancelButtonText:"No, just view results",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"})).isConfirmed?h():f()},h=()=>{t.fire({title:"Submitting...",text:"Please wait while we process your responses.",allowOutsideClick:!1,showConfirmButton:!1,willOpen:()=>{t.showLoading()}}),s.post(route("screening.submit"),{preserveScroll:!0,onSuccess:()=>{t.fire({title:"Saved!",text:"Your screening has been recorded.",icon:"success",showConfirmButton:!1,timer:2e3}),s.reset(),setTimeout(()=>{window.location.href=route("screening.results")},2e3)},onError:()=>{t.fire({title:"Submission Failed",text:"An error occurred while submitting. Please try again later.",icon:"error",confirmButtonText:"OK"})}})},f=()=>{t.fire({title:"Redirecting...",text:"Please wait while we load your results.",allowOutsideClick:!1,didOpen:()=>t.showLoading()}),setTimeout(()=>{t.close(),window.location.href=route("screening.results")},500)};return(n,i)=>(a(),l(d,null,[c(o(x),{title:"Mental Health Screening"}),c(B,null,{header:u(()=>i[0]||(i[0]=[e("h2",{class:"text-2xl font-bold leading-tight text-black dark:text-white"}," Mental Health Screening ",-1)])),default:u(()=>[e("div",C,[e("div",k,[e("div",O,[e("div",T,[i[1]||(i[1]=e("p",{class:"mt-2 text-gray-800"}," Please answer the following questions in detail to help assess your mental well-being. ",-1)),(a(),l(d,null,v(["Describe your recent emotional state and how it has impacted your daily life.","Have you been experiencing difficulties with sleep, appetite, or energy levels? Explain.","What are some recurring thoughts or worries that have been on your mind lately?","Have you noticed any changes in your behavior, social interactions, or coping strategies?","Is there anything specific that has been overwhelming or distressing for you recently?"],(w,r)=>e("div",{class:"mt-4",key:r},[e("p",H,m(w),1),_(e("textarea",{"onUpdate:modelValue":b=>o(s).responses[r]=b,class:"w-full mt-2 p-3 border rounded-lg bg-blue-100 text-black placeholder-gray-600 focus:ring focus:ring-blue-300",rows:"4",placeholder:"Write your response here...",required:""},null,8,M),[[S,o(s).responses[r]]])])),64)),e("button",{onClick:p,disabled:o(s).processing,class:"mt-6 px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-400 transition-all focus:ring-2 focus:ring-blue-300 disabled:opacity-50"},m(o(s).processing?"Submitting...":"Submit Screening"),9,P)])])])])]),_:1})],64))}};export{F as default};
