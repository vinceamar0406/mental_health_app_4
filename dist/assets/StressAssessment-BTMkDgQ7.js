import{l as w,f as _,p as k,g as c,d as q,o as y,w as V,a as g,b as t,u as S,m as U,c as I,F as $,r as N,t as f,i as r,h as n,q as i,W as h}from"./app-C7YuJVyk.js";import{_ as A}from"./AuthenticatedLayout-Bo52xLDn.js";import{_ as E}from"./Header-DnGOeC0u.js";import"./sweetalert2.esm.all-B0Dix5B2.js";const F={class:"min-h-screen bg-blue-100 dark:bg-gray-900 flex items-center justify-center"},O={class:"w-full max-w-4xl bg-blue-200 dark:bg-gray-800 shadow-lg rounded-lg border border-blue-300 dark:border-gray-700"},P={class:"p-8 text-gray-900 dark:text-gray-100"},j={class:"space-y-6"},B={class:"block font-medium text-lg text-gray-800 dark:text-gray-200"},L={class:"flex gap-6 mt-2"},C={class:"flex items-center gap-2 text-gray-700 dark:text-gray-300"},D=["onUpdate:modelValue"],H={class:"flex items-center gap-2 text-gray-700 dark:text-gray-300"},M=["onUpdate:modelValue"],W={class:"flex items-center gap-2 text-gray-700 dark:text-gray-300"},R=["onUpdate:modelValue"],T={class:"flex items-center gap-2 text-gray-700 dark:text-gray-300"},z=["onUpdate:modelValue"],G={class:"flex items-center gap-2 text-gray-700 dark:text-gray-300"},J=["onUpdate:modelValue"],K={class:"mt-8 p-4 bg-gray-100 dark:bg-gray-700 rounded-lg"},Q={class:"flex gap-6 mt-2"},X={class:"flex items-center gap-2 text-gray-700 dark:text-gray-300"},Y={class:"flex items-center gap-2 text-gray-700 dark:text-gray-300"},Z={class:"flex items-center gap-2 text-gray-700 dark:text-gray-300"},ee={class:"flex items-center gap-2 text-gray-700 dark:text-gray-300"},te={class:"mt-6"},ne={__name:"StressAssessment",setup(se){const p=w(),u=_(!1);p.props.title="Stress Assessment";const s=k({q1:null,q2:null,q3:null,q4:null,q5:null,q6:null,q7:null,q8:null,q9:null,q10:null,impact:""}),b=[{min:0,max:13,label:"Low Stress"},{min:14,max:26,label:"Moderate Stress"},{min:27,max:40,label:"High Stress"}],m=c(()=>Object.values(s).slice(0,10).reduce((d,e)=>d+(parseInt(e)||0),0)),v=c(()=>{var d;return((d=b.find(e=>m.value>=e.min&&m.value<=e.max))==null?void 0:d.label)||"Unknown"}),x=async()=>{var e,l;if(u.value)return;if(Object.values(s).slice(0,10).some(a=>a===null)||!s.impact){alert("Please answer all questions and select an impact level before submitting.");return}u.value=!0;try{h.post("/assessment/stress-related/store",{user_id:(l=(e=p.props.auth)==null?void 0:e.user)==null?void 0:l.id,responses:Object.values(s).slice(0,10),impact:s.impact,total_score:m.value,severity:v.value},{replace:!0,onSuccess:()=>{u.value=!1,h.get("/assessment/stress-related/results")},onError:()=>{u.value=!1,alert("Failed to submit assessment. Please try again.")}})}catch(a){console.error("Error submitting assessment:",a),alert("Failed to submit assessment. Please try again."),u.value=!1}};return(d,e)=>(y(),q(A,null,{default:V(()=>[g(S(U),{title:"Stress Assessment"}),t("div",F,[t("div",O,[g(E,{title:"Perceived Stress Scale (PSS)",subtitle:"In the last month, how often have you experienced the following?"}),t("div",P,[t("div",j,[(y(),I($,null,N(["In the last month, how often have you been upset because of something that happened unexpectedly?","In the last month, how often have you felt that you were unable to control the important things in your life?","In the last month, how often have you felt nervous and stressed?","In the last month, how often have you felt confident about your ability to handle your personal problems?","In the last month, how often have you felt that things were going your way?","In the last month, how often have you found that you could not cope with all the things that you had to do?","In the last month, how often have you been able to control irritations in your life?","In the last month, how often have you felt that you were on top of things?","In the last month, how often have you been angered because of things that happened that were outside of your control?","In the last month, how often have you felt difficulties were piling up so high that you could not overcome them?"],(l,a)=>t("div",{key:a,class:"p-4 bg-gray-100 dark:bg-gray-700 rounded-lg"},[t("label",B,f(a+1)+". "+f(l),1),t("div",L,[t("label",C,[r(t("input",{type:"radio",value:0,"onUpdate:modelValue":o=>s[`q${a+1}`]=o,class:"form-radio"},null,8,D),[[i,s[`q${a+1}`]]]),e[4]||(e[4]=n(" Never "))]),t("label",H,[r(t("input",{type:"radio",value:1,"onUpdate:modelValue":o=>s[`q${a+1}`]=o,class:"form-radio"},null,8,M),[[i,s[`q${a+1}`]]]),e[5]||(e[5]=n(" Almost Never "))]),t("label",W,[r(t("input",{type:"radio",value:2,"onUpdate:modelValue":o=>s[`q${a+1}`]=o,class:"form-radio"},null,8,R),[[i,s[`q${a+1}`]]]),e[6]||(e[6]=n(" Sometimes "))]),t("label",T,[r(t("input",{type:"radio",value:3,"onUpdate:modelValue":o=>s[`q${a+1}`]=o,class:"form-radio"},null,8,z),[[i,s[`q${a+1}`]]]),e[7]||(e[7]=n(" Fairly Often "))]),t("label",G,[r(t("input",{type:"radio",value:4,"onUpdate:modelValue":o=>s[`q${a+1}`]=o,class:"form-radio"},null,8,J),[[i,s[`q${a+1}`]]]),e[8]||(e[8]=n(" Very Often "))])])])),64))]),t("div",K,[e[13]||(e[13]=t("label",{class:"block font-medium text-lg text-gray-800 dark:text-gray-200"}," How difficult have these problems made it for you to function in daily life? ",-1)),t("div",Q,[t("label",X,[r(t("input",{type:"radio",value:"Not difficult at all","onUpdate:modelValue":e[0]||(e[0]=l=>s.impact=l),class:"form-radio"},null,512),[[i,s.impact]]),e[9]||(e[9]=n(" Not difficult at all "))]),t("label",Y,[r(t("input",{type:"radio",value:"Somewhat difficult","onUpdate:modelValue":e[1]||(e[1]=l=>s.impact=l),class:"form-radio"},null,512),[[i,s.impact]]),e[10]||(e[10]=n(" Somewhat difficult "))]),t("label",Z,[r(t("input",{type:"radio",value:"Very difficult","onUpdate:modelValue":e[2]||(e[2]=l=>s.impact=l),class:"form-radio"},null,512),[[i,s.impact]]),e[11]||(e[11]=n(" Very difficult "))]),t("label",ee,[r(t("input",{type:"radio",value:"Extremely difficult","onUpdate:modelValue":e[3]||(e[3]=l=>s.impact=l),class:"form-radio"},null,512),[[i,s.impact]]),e[12]||(e[12]=n(" Extremely difficult "))])])]),t("div",te,[t("button",{onClick:x,class:"w-full bg-blue-600 text-white py-3 rounded-lg text-lg font-semibold hover:bg-blue-700 transition"},f(u.value?"Submitting...":"Submit Assessment"),1)])])])])]),_:1}))}};export{ne as default};
